{"failedCount":3,"prefixedPath":"classpath:com\/api\/automation\/cart\/itemsaddcreate.feature","packageQualifiedName":"com.api.automation.cart.itemsaddcreate","loopIndex":-1,"relativePath":"com\/api\/automation\/cart\/itemsaddcreate.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1171100,"startTime":1715869775147,"endTime":1715869775148,"millis":1.1711,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/simple-grocery-store-api.glitch.me'"},"stepLog":"19:59:35.122 karate.env system property was: null \n"},{"result":{"nanos":409100,"startTime":1715869775151,"endTime":1715869775151,"millis":0.4091,"status":"passed"},"step":{"line":7,"prefix":"Given","index":0,"text":"path '\/carts'"}},{"result":{"nanos":1629330000,"startTime":1715869775152,"endTime":1715869776781,"millis":1629.33,"status":"passed"},"step":{"line":8,"prefix":"When","index":1,"text":"method post"},"stepLog":"19:59:35.328 request:\n1 > POST https:\/\/simple-grocery-store-api.glitch.me\/carts\n1 > Host: simple-grocery-store-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n\n\n19:59:36.762 response time in milliseconds: 1432\n1 < 201\n1 < Date: Thu, 16 May 2024 14:29:34 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 49\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"31-G5yKwS8BZxHVSNc6offEfz\/PzwE\"\n{\"created\":true,\"cartId\":\"dq9gekYX-gmAofXvxu28Z\"}\n\n"},{"result":{"nanos":16100,"startTime":1715869776781,"endTime":1715869776781,"millis":0.0161,"status":"passed"},"step":{"line":9,"prefix":"Then","index":2,"text":"status 201"}},{"result":{"nanos":2478500,"startTime":1715869776782,"endTime":1715869776784,"millis":2.4785,"status":"passed"},"step":{"line":10,"prefix":"And","index":3,"text":"def cartId = response.cartId"}},{"result":{"nanos":1324100,"startTime":1715869776784,"endTime":1715869776785,"millis":1.3241,"status":"passed"},"step":{"line":11,"prefix":"And","index":4,"text":"print 'Cart ID:', cartId"},"stepLog":"19:59:36.785 [print] Cart ID: dq9gekYX-gmAofXvxu28Z \n"},{"result":{"nanos":4897000,"startTime":1715869776785,"endTime":1715869776790,"millis":4.897,"status":"passed"},"step":{"line":12,"prefix":"*","index":5,"text":"def File = Java.type('java.io.File')"}},{"result":{"nanos":756100,"startTime":1715869776790,"endTime":1715869776791,"millis":0.7561,"status":"passed"},"step":{"line":13,"prefix":"*","index":6,"text":"def FileWriter = Java.type('java.io.FileWriter')"}},{"result":{"nanos":554100,"startTime":1715869776791,"endTime":1715869776792,"millis":0.5541,"status":"passed"},"step":{"line":14,"prefix":"*","index":7,"text":"def BufferedWriter = Java.type('java.io.BufferedWriter')"}},{"result":{"nanos":506000,"startTime":1715869776792,"endTime":1715869776793,"millis":0.506,"status":"passed"},"step":{"line":16,"prefix":"*","index":8,"text":"def path = 'C:\/Worksapce\/Karate_practice\/KarateAssignmentApiAutomation\/src\/test\/java\/com\/api\/automation\/cartId.csv'"}},{"result":{"nanos":8813500,"startTime":1715869776792,"endTime":1715869776801,"millis":8.8135,"status":"passed"},"step":{"line":17,"prefix":"*","index":9,"text":"def file = new File(path)"}},{"result":{"nanos":6177900,"startTime":1715869776801,"endTime":1715869776807,"millis":6.1779,"status":"passed"},"step":{"line":18,"prefix":"*","index":10,"text":"def fileWriter = new FileWriter(file, true) \/\/ 'true' appends to existing file"}},{"result":{"nanos":1123600,"startTime":1715869776807,"endTime":1715869776808,"millis":1.1236,"status":"passed"},"step":{"line":19,"prefix":"*","index":11,"text":"def bufferedWriter = new BufferedWriter(fileWriter)"}},{"result":{"nanos":734100,"startTime":1715869776808,"endTime":1715869776809,"millis":0.7341,"status":"passed"},"step":{"line":20,"prefix":"*","index":12,"text":"bufferedWriter.write(cartId)"}},{"result":{"nanos":1931600,"startTime":1715869776809,"endTime":1715869776811,"millis":1.9316,"status":"passed"},"step":{"line":21,"prefix":"*","index":13,"text":"bufferedWriter.newLine()"}},{"result":{"nanos":1038400,"startTime":1715869776811,"endTime":1715869776812,"millis":1.0384,"status":"passed"},"step":{"line":22,"prefix":"*","index":14,"text":"bufferedWriter.close()"}}],"executorName":"main","line":6,"name":"Create a Cart and Get Cart ID","description":"","durationMillis":1661.2612,"startTime":1715869775024,"failed":false,"refId":"[1:6]","endTime":1715869776812,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":349400,"startTime":1715869776823,"endTime":1715869776823,"millis":0.3494,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/simple-grocery-store-api.glitch.me'"},"stepLog":"19:59:36.822 karate.env system property was: null \n"},{"result":{"nanos":10332700,"startTime":1715869776823,"endTime":1715869776833,"millis":10.3327,"status":"passed"},"step":{"comments":["# Read Items from items.csv"],"line":27,"prefix":"And","index":0,"text":"def items = read('items.csv')"}},{"result":{"nanos":1349200,"startTime":1715869776834,"endTime":1715869776835,"millis":1.3492,"status":"passed"},"step":{"line":28,"prefix":"And","index":1,"text":"print items"},"stepLog":"19:59:36.835 [print] [\n  {\n    \"productId\": \"4643\",\n    \"category\": \"coffee\",\n    \"quantity\": \"1\"\n  },\n  {\n    \"productId\": \"4641\",\n    \"category\": \"coffee\",\n    \"quantity\": \"3\"\n  },\n  {\n    \"productId\": \"1225\",\n    \"category\": \"fresh-produce\",\n    \"quantity\": \"4\"\n  },\n  {\n    \"productId\": \"2177\",\n    \"category\": \"meat-seafood\",\n    \"quantity\": \"2\"\n  }\n]\n \n"},{"result":{"nanos":6560300,"startTime":1715869776835,"endTime":1715869776842,"millis":6.5603,"status":"passed"},"step":{"endLine":47,"comments":["# Function to Add Item to Cart"],"line":30,"prefix":"And","docString":"function(item) {\n   karate.log('Adding item to cart:', item);\n   var payload = {\n     productId: item.productId,\n     category: item.category,\n     quantity: item.quantity\n   };\n      karate.log('Payload:', payload);\n   karate.set('requestPayload', payload);\n   karate.log('Cart ID:', karate.get('cartId'));\n   var url = '\/carts\/' + karate.get('cartId') + '\/items'; \n   karate.log('URL:', url); \n         \n   return karate.callSingle('addItemToCartHelper.feature', { cartId: karate.get('cartId') });\n }","index":2,"text":"def addItemToCart ="}},{"result":{"nanos":813978600,"errorMessage":"js failed:\n>>>>\n01: karate.forEach(items, addItemToCart)\n<<<<\norg.graalvm.polyglot.PolyglotException: status code was: 404, expected: 201, response time in milliseconds: 729, url: https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items, response: \n{\"error\":\"No cart with id null.\"}\nclasspath:com\/api\/automation\/cart\/addItemToCartHelper.feature:13\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:241)\n- <js>.:anonymous(Unnamed:14)\n\nclasspath:com\/api\/automation\/cart\/itemsaddcreate.feature:48","startTime":1715869776841,"endTime":1715869777655,"millis":813.9786,"status":"failed"},"step":{"line":48,"prefix":"*","index":3,"text":"karate.forEach(items, addItemToCart)"},"stepLog":"19:59:37.653 callSingle() will cache an exception\n19:59:37.653 << lock released, cached callSingle: addItemToCartHelper.feature\n19:59:37.653 callSingle() cached result is an exception\n19:59:37.656 classpath:com\/api\/automation\/cart\/itemsaddcreate.feature:48\n* karate.forEach(items, addItemToCart)\njs failed:\n>>>>\n01: karate.forEach(items, addItemToCart)\n<<<<\norg.graalvm.polyglot.PolyglotException: status code was: 404, expected: 201, response time in milliseconds: 729, url: https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items, response: \n{\"error\":\"No cart with id null.\"}\nclasspath:com\/api\/automation\/cart\/addItemToCartHelper.feature:13\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:241)\n- <js>.:anonymous(Unnamed:14)\n\nclasspath:com\/api\/automation\/cart\/itemsaddcreate.feature:48\n","callResults":[{"prefixedPath":"classpath:com\/api\/automation\/cart\/addItemToCartHelper.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2024-05-16 07:59:38 pm","durationMillis":772.7058,"callArg":{"cartId":null},"failedCount":1,"packageQualifiedName":"com.api.automation.cart.addItemToCartHelper","relativePath":"com\/api\/automation\/cart\/addItemToCartHelper.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":184200,"startTime":1715869776875,"endTime":1715869776875,"millis":0.1842,"status":"passed"},"step":{"comments":["# Define the base URL for the API"],"background":true,"line":5,"prefix":"*","index":0,"text":"url 'https:\/\/simple-grocery-store-api.glitch.me'"},"stepLog":"19:59:36.844 Adding item to cart: {\n  \"productId\": \"4643\",\n  \"category\": \"coffee\",\n  \"quantity\": \"1\"\n}\n \n19:59:36.847 Payload: {\n  \"productId\": \"4643\",\n  \"category\": \"coffee\",\n  \"quantity\": \"1\"\n}\n \n19:59:36.857 Cart ID: null \n19:59:36.862 URL: \/carts\/null\/items \n19:59:36.865 >> lock acquired, begin callSingle: addItemToCartHelper.feature\n"},{"result":{"nanos":597200,"startTime":1715869776875,"endTime":1715869776876,"millis":0.5972,"status":"passed"},"step":{"comments":["# Define the request payload using the data set in the calling feature"],"line":9,"prefix":"Given","index":0,"text":"path '\/carts\/' + cartId  + '\/items'"}},{"result":{"nanos":334300,"startTime":1715869776875,"endTime":1715869776875,"millis":0.3343,"status":"passed"},"step":{"line":10,"prefix":"And","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":1117700,"startTime":1715869776876,"endTime":1715869776877,"millis":1.1177,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"request requestPayload"}},{"result":{"nanos":764047100,"startTime":1715869776877,"endTime":1715869777641,"millis":764.0471,"status":"passed"},"step":{"line":12,"prefix":"When","index":3,"text":"method post"},"stepLog":"19:59:36.908 request:\n1 > POST https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items\n1 > Accept: application\/json\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 55\n1 > Host: simple-grocery-store-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\"productId\":\"4643\",\"category\":\"coffee\",\"quantity\":\"1\"}\n\n19:59:37.639 response time in milliseconds: 729\n1 < 404\n1 < Date: Thu, 16 May 2024 14:29:35 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 33\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"21-sMhsO72P\/W+4d8dFnAHQRyD9tss\"\n{\"error\":\"No cart with id null.\"}\n\n"},{"result":{"nanos":6425300,"errorMessage":"status code was: 404, expected: 201, response time in milliseconds: 729, url: https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items, response: \n{\"error\":\"No cart with id null.\"}\nclasspath:com\/api\/automation\/cart\/addItemToCartHelper.feature:13","startTime":1715869777642,"endTime":1715869777648,"millis":6.4253,"status":"failed"},"step":{"line":13,"prefix":"Then","index":4,"text":"status 201"},"stepLog":"19:59:37.648 classpath:com\/api\/automation\/cart\/addItemToCartHelper.feature:13\nThen status 201\nstatus code was: 404, expected: 201, response time in milliseconds: 729, url: https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items, response: \n{\"error\":\"No cart with id null.\"}\nclasspath:com\/api\/automation\/cart\/addItemToCartHelper.feature:13\n"},{"result":{"nanos":0,"startTime":1715869777648,"endTime":1715869777648,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"*","index":5,"text":"print response.itemId"}}],"line":7,"description":"","durationMillis":772.7058,"failed":true,"error":"status code was: 404, expected: 201, response time in milliseconds: 729, url: https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items, response: \n{\"error\":\"No cart with id null.\"}\nclasspath:com\/api\/automation\/cart\/addItemToCartHelper.feature:13","executorName":"main","name":"Add Item to Cart","startTime":1715869776874,"refId":"[1:7]","endTime":1715869777648,"exampleIndex":-1}],"name":"Add Item to Cart Helper","passedCount":0}]},{"result":{"nanos":0,"startTime":1715869777656,"endTime":1715869777656,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"*","index":4,"text":"def itemId = karate.jsonPath(response, '$..itemId')[0]"}},{"result":{"nanos":0,"startTime":1715869777656,"endTime":1715869777656,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":5,"text":"print 'Item added to cart. Item ID:', itemId"}}],"line":25,"description":"","durationMillis":832.5702,"failed":true,"error":"js failed:\n>>>>\n01: karate.forEach(items, addItemToCart)\n<<<<\norg.graalvm.polyglot.PolyglotException: status code was: 404, expected: 201, response time in milliseconds: 729, url: https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items, response: \n{\"error\":\"No cart with id null.\"}\nclasspath:com\/api\/automation\/cart\/addItemToCartHelper.feature:13\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:241)\n- <js>.:anonymous(Unnamed:14)\n\nclasspath:com\/api\/automation\/cart\/itemsaddcreate.feature:48","executorName":"main","name":"Add Items to Cart","startTime":1715869776820,"refId":"[2:25]","endTime":1715869777656,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":195300,"startTime":1715869777665,"endTime":1715869777665,"millis":0.1953,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/simple-grocery-store-api.glitch.me'"},"stepLog":"19:59:37.665 karate.env system property was: null \n"},{"result":{"nanos":1641800,"startTime":1715869777666,"endTime":1715869777668,"millis":1.6418,"status":"passed"},"step":{"line":53,"prefix":"Given","index":0,"text":"path '\/carts\/'+ karate.get('cartId') + '\/items'"}},{"result":{"nanos":102500,"startTime":1715869777667,"endTime":1715869777667,"millis":0.1025,"status":"passed"},"step":{"line":54,"prefix":"And","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":765750200,"startTime":1715869777667,"endTime":1715869778433,"millis":765.7502,"status":"passed"},"step":{"line":55,"prefix":"When","index":2,"text":"method get"},"stepLog":"19:59:37.668 request:\n1 > GET https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items\n1 > Accept: application\/json\n1 > Host: simple-grocery-store-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n\n\n19:59:38.430 response time in milliseconds: 761\n1 < 404\n1 < Date: Thu, 16 May 2024 14:29:36 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 33\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"21-sMhsO72P\/W+4d8dFnAHQRyD9tss\"\n{\"error\":\"No cart with id null.\"}\n\n"},{"result":{"nanos":56300,"errorMessage":"status code was: 404, expected: 200, response time in milliseconds: 761, url: https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items, response: \n{\"error\":\"No cart with id null.\"}\nclasspath:com\/api\/automation\/cart\/itemsaddcreate.feature:56","startTime":1715869778433,"endTime":1715869778433,"millis":0.0563,"status":"failed"},"step":{"line":56,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"19:59:38.433 classpath:com\/api\/automation\/cart\/itemsaddcreate.feature:56\nThen status 200\nstatus code was: 404, expected: 200, response time in milliseconds: 761, url: https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items, response: \n{\"error\":\"No cart with id null.\"}\nclasspath:com\/api\/automation\/cart\/itemsaddcreate.feature:56\n"},{"result":{"nanos":0,"startTime":1715869778433,"endTime":1715869778433,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"And","index":4,"text":"print 'Response:', karate.response"}}],"line":52,"description":"","durationMillis":767.7461,"failed":true,"error":"status code was: 404, expected: 200, response time in milliseconds: 761, url: https:\/\/simple-grocery-store-api.glitch.me\/carts\/null\/items, response: \n{\"error\":\"No cart with id null.\"}\nclasspath:com\/api\/automation\/cart\/itemsaddcreate.feature:56","executorName":"main","name":"Get cart items","startTime":1715869777664,"refId":"[3:52]","endTime":1715869778433,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":212700,"startTime":1715869778440,"endTime":1715869778440,"millis":0.2127,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/simple-grocery-store-api.glitch.me'"},"stepLog":"19:59:38.440 karate.env system property was: null \n"},{"result":{"nanos":1606500,"errorMessage":"js failed:\n>>>>\n01: '\/carts\/' + cartId + '\/items\/' + itemId\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"cartId\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:com\/api\/automation\/cart\/itemsaddcreate.feature:60","startTime":1715869778440,"endTime":1715869778442,"millis":1.6065,"status":"failed"},"step":{"line":60,"prefix":"Given","index":0,"text":"path '\/carts\/' + cartId + '\/items\/' + itemId"},"stepLog":"19:59:38.442 classpath:com\/api\/automation\/cart\/itemsaddcreate.feature:60\nGiven path '\/carts\/' + cartId + '\/items\/' + itemId\njs failed:\n>>>>\n01: '\/carts\/' + cartId + '\/items\/' + itemId\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"cartId\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:com\/api\/automation\/cart\/itemsaddcreate.feature:60\n"},{"result":{"nanos":0,"startTime":1715869778442,"endTime":1715869778442,"millis":0.0,"status":"skipped"},"step":{"line":61,"prefix":"And","index":1,"text":"request {\"quantity\": 3}"}},{"result":{"nanos":0,"startTime":1715869778442,"endTime":1715869778442,"millis":0.0,"status":"skipped"},"step":{"line":62,"prefix":"When","index":2,"text":"method put"}},{"result":{"nanos":0,"startTime":1715869778442,"endTime":1715869778442,"millis":0.0,"status":"skipped"},"step":{"line":63,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"startTime":1715869778442,"endTime":1715869778442,"millis":0.0,"status":"skipped"},"step":{"line":64,"prefix":"And","index":4,"text":"print 'Quantity updated successfully'"}}],"line":59,"description":"","durationMillis":1.8192,"failed":true,"error":"js failed:\n>>>>\n01: '\/carts\/' + cartId + '\/items\/' + itemId\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"cartId\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:com\/api\/automation\/cart\/itemsaddcreate.feature:60","executorName":"main","name":"Update Quantity of an Item in the Cart","startTime":1715869778439,"refId":"[4:59]","endTime":1715869778442,"exampleIndex":-1}],"callDepth":0,"name":"Add Items to Cart","description":"","resultDate":"2024-05-16 07:59:38 pm","durationMillis":3263.3967,"passedCount":1}